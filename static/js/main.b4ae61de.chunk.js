(this.webpackJsonpmynearbyplaces=this.webpackJsonpmynearbyplaces||[]).push([[0],{19:function(e,t,n){},34:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(16),r=n.n(s),i=(n(34),n(19),n(11)),j=n(7),l=n(29),o=n(28),d=n(9),u=n(8),b=n(10),h=n(1);var O=function(e){var t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],s=n[1];return Object(h.jsx)(o.a,{bg:"dark",expand:"lg",variant:"dark",children:Object(h.jsx)(l.a.Link,{children:Object(h.jsxs)(u.a,{className:"mb-3",children:[Object(h.jsx)(b.a,{type:"text",placeholder:"Search...",onChange:function(e){s(e.target.value)}}),Object(h.jsx)(u.a.Append,{children:Object(h.jsx)(d.a,{onClick:function(e){alert("Already displaying all "+a)},variant:"outline-primary",children:"Search"})})]})})})},x=n(6),f=n(15);function p(e){return Object(h.jsx)(i.a,{className:"Review",children:Object(h.jsxs)(f.a,{children:[Object(h.jsx)(x.a,{children:Object(h.jsx)("b",{children:e.username})}),Object(h.jsx)(x.a,{children:e.text})]})})}var m="https://mynearbyplaces-serverside.herokuapp.com",v={addPlace:function(e){return fetch(m+"/place",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},getPlaces:function(){return fetch(m+"/places").then((function(e){return e.json()}))},addReview:function(e){return fetch(m+"/review/"+e.placename,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},searchPlaces:function(e){var t="/search?";return""===!e.name&&(t+="placeName=".concat(e.name)),""===!e.address&&(t+="&location=".concat(e.address)),fetch(m+t).then((function(e){return e.json()}))}};function g(e){var t=Object(c.useState)(!0),n=Object(j.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(e.placeInfo),l=Object(j.a)(r,2),o=l[0],O=l[1],m=Object(c.useState)(""),g=Object(j.a)(m,2),y=g[0],w=g[1],S=Object(c.useState)(""),C=Object(j.a)(S,2),k=C[0],P=C[1],N=Object(c.useState)(!0),A=Object(j.a)(N,2),E=A[0],I=A[1],R=Object(c.useState)(null),T=Object(j.a)(R,2),L=T[0],F=T[1],J=Object(c.useState)(!1),U=Object(j.a)(J,2),B=U[0],D=U[1];return Object(c.useEffect)((function(){if(null===L){var t=[];for(var n in e.reviews)null===e.reviews[n].comment&&null===e.reviews[n].comment||t.push(Object(h.jsx)(p,{text:e.reviews[n].comment,username:e.reviews[n].username}));F(t)}})),Object(h.jsx)(i.a,{className:"Place",hidden:B,children:Object(h.jsxs)(f.a,{children:[Object(h.jsx)(x.a,{children:Object(h.jsx)("h2",{children:e.name})}),Object(h.jsx)(x.a,{children:Object(h.jsx)("h5",{children:e.address})}),Object(h.jsx)(x.a,{children:o}),Object(h.jsx)(x.a,{children:Object(h.jsxs)(u.a,{className:"mb-3",hidden:a,children:[Object(h.jsx)(b.a,{type:"text",placeholder:"Update Info",onChange:function(e){O(e.target.value)}}),Object(h.jsx)(u.a.Append,{children:Object(h.jsx)(d.a,{onClick:function(e){s(!0),O(o)},variant:"primary",children:"Update Info"})})]})}),Object(h.jsx)(x.a,{children:Object(h.jsx)("h4",{children:"Reviews:"})}),Object(h.jsx)(x.a,{children:L}),Object(h.jsx)(x.a,{children:Object(h.jsxs)(u.a,{className:"mb-3",hidden:E,children:[Object(h.jsx)(b.a,{type:"text",placeholder:"Enter Username",value:k,onChange:function(e){P(e.target.value)}}),Object(h.jsx)(b.a,{type:"text",placeholder:"Enter Review",value:y,onChange:function(e){w(e.target.value)}}),Object(h.jsx)(u.a.Append,{children:Object(h.jsx)(d.a,{onClick:function(t){I(!0),L.push(Object(h.jsx)(p,{username:k,text:y})),P(""),w("");var n={username:k,comment:y,placename:e.name};v.addReview(n).then((function(){console.log("Review by ".concat(k," was added successfully."))})).catch((function(e){return console.log(e)}))},variant:"primary",children:"Submit Review"})})]})}),Object(h.jsxs)(x.a,{children:[Object(h.jsx)(d.a,{onClick:function(e){s(!a)},children:"Update"})," \xa0\xa0\xa0",Object(h.jsx)(d.a,{onClick:function(e){D(!0)},children:"Delete"})," \xa0\xa0\xa0",Object(h.jsx)(d.a,{onClick:function(e){I(!E)},children:"Add Review"})]})]})})}function y(e){var t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),l=Object(j.a)(r,2),o=l[0],O=l[1],p=Object(c.useState)(""),m=Object(j.a)(p,2),y=m[0],w=m[1],S=Object(c.useState)(["Loading..."]),C=Object(j.a)(S,2),k=C[0],P=C[1];Object(c.useEffect)((function(){"Loading..."===k[0]&&v.getPlaces().then((function(e){return N(e)})).catch((function(e){return console.log(e)}))}));var N=function(e){var t=[];for(var n in e)t.push(Object(h.jsx)(g,{placeInfo:e[n].info,name:e[n].name,address:e[n].address,reviews:e[n].reviews}));P(t)};return Object(h.jsxs)(i.a,{children:[Object(h.jsx)(i.a,{className:"Place",children:Object(h.jsx)(f.a,{children:Object(h.jsx)(x.a,{children:Object(h.jsxs)(u.a,{className:"mb-3",hidden:e.hideAddPlace,children:[Object(h.jsx)(b.a,{type:"text",placeholder:"Enter Title",value:a,onChange:function(e){s(e.target.value)}}),Object(h.jsx)(b.a,{type:"text",placeholder:"Enter Address",value:o,onChange:function(e){O(e.target.value)}}),Object(h.jsx)(b.a,{type:"text",placeholder:"Enter Info",value:y,onChange:function(e){w(e.target.value)}}),Object(h.jsx)(u.a.Append,{children:Object(h.jsx)(d.a,{onClick:function(e){var t={name:a,address:o,info:y};v.addPlace(t).then((function(){console.log("The place ".concat(a," was added successfully."))})).catch((function(e){return console.log(e)})),k.push(Object(h.jsx)(g,{placeInfo:y,name:a,address:o})),s(""),O(""),w("")},variant:"primary",children:"Submit Place"})})]})})})}),Object(h.jsx)(f.a,{children:Object(h.jsx)(x.a,{children:k})})]})}var w=function(){return Object(h.jsxs)(i.a,{fluid:!0,children:[Object(h.jsx)(O,{}),Object(h.jsx)(y,{})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};n(39);r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root")),S()}},[[40,1,2]]]);
//# sourceMappingURL=main.b4ae61de.chunk.js.map