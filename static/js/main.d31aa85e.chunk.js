(this.webpackJsonpmynearbyplaces=this.webpackJsonpmynearbyplaces||[]).push([[0],{17:function(e,t,c){},25:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(14),r=c.n(s),i=(c(25),c(17),c(8)),j=c(6),l=c(20),d=c(1);var o=function(e){var t=Object(n.useState)(""),c=Object(j.a)(t,2);return c[0],c[1],Object(d.jsx)(l.a,{bg:"dark",expand:"lg",variant:"dark",children:Object(d.jsx)("h1",{className:"Title",children:Object(d.jsx)("i",{children:"My Nearby Places"})})})},u=c(11),b=c(7),h=c(12),O=c(9),x=c(10);function f(e){return Object(d.jsx)(i.a,{className:"Review",children:Object(d.jsxs)(h.a,{children:[Object(d.jsx)(b.a,{children:Object(d.jsx)("b",{children:e.username})}),Object(d.jsx)(b.a,{children:e.text})]})})}var p="https://mynearbyplaces-serverside.herokuapp.com",m={addPlace:function(e){return fetch(p+"/place",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},getPlaces:function(){return fetch(p+"/places").then((function(e){return e.json()}))},addReview:function(e){return fetch(p+"/review/"+e.placename,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},searchPlaces:function(e){var t="/search?";return""!==e.name&&(t+="placeName=".concat(e.name)),""!==e.address&&(t+="&location=".concat(e.address)),fetch(p+t).then((function(e){return e.json()}))}};function v(e){var t=Object(n.useState)(!0),c=Object(j.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(e.placeInfo),l=Object(j.a)(r,2),o=l[0],p=l[1],v=Object(n.useState)(""),g=Object(j.a)(v,2),y=g[0],S=g[1],w=Object(n.useState)(""),C=Object(j.a)(w,2),N=C[0],P=C[1],k=Object(n.useState)(!0),A=Object(j.a)(k,2),E=A[0],I=A[1],R=Object(n.useState)(null),T=Object(j.a)(R,2),F=T[0],J=T[1],L=Object(n.useState)(!1),U=Object(j.a)(L,2),B=U[0],D=U[1];return Object(n.useEffect)((function(){if(null===F){var t=[];for(var c in e.reviews)null===e.reviews[c].comment&&null===e.reviews[c].comment||t.push(Object(d.jsx)(f,{text:e.reviews[c].comment,username:e.reviews[c].username}));J(t)}})),Object(d.jsx)(i.a,{className:"Place",hidden:B,children:Object(d.jsxs)(h.a,{children:[Object(d.jsx)(b.a,{children:Object(d.jsx)("h2",{children:e.name})}),Object(d.jsx)(b.a,{children:Object(d.jsx)("h5",{children:e.address})}),Object(d.jsx)(b.a,{children:o}),Object(d.jsx)(b.a,{children:Object(d.jsxs)(O.a,{className:"mb-3",hidden:a,children:[Object(d.jsx)(x.a,{type:"text",placeholder:"Update Info",onChange:function(e){p(e.target.value)}}),Object(d.jsx)(O.a.Append,{children:Object(d.jsx)(u.a,{onClick:function(e){s(!0),p(o)},variant:"primary",children:"Update Info"})})]})}),Object(d.jsx)(b.a,{children:Object(d.jsx)("h4",{children:"Reviews:"})}),Object(d.jsx)(b.a,{children:F}),Object(d.jsx)(b.a,{children:Object(d.jsxs)(O.a,{className:"mb-3",hidden:E,children:[Object(d.jsx)(x.a,{type:"text",placeholder:"Enter Username",value:N,onChange:function(e){P(e.target.value)}}),Object(d.jsx)(x.a,{type:"text",placeholder:"Enter Review",value:y,onChange:function(e){S(e.target.value)}}),Object(d.jsx)(O.a.Append,{children:Object(d.jsx)(u.a,{onClick:function(t){I(!0),F.push(Object(d.jsx)(f,{username:N,text:y})),P(""),S("");var c={username:N,comment:y,placename:e.name};m.addReview(c).then((function(){console.log("Review by ".concat(N," was added successfully."))})).catch((function(e){return console.log(e)}))},variant:"primary",children:"Submit Review"})})]})}),Object(d.jsxs)(b.a,{children:[Object(d.jsx)(u.a,{onClick:function(e){s(!a)},children:"Update"})," \xa0\xa0\xa0",Object(d.jsx)(u.a,{onClick:function(e){D(!0)},children:"Delete"})," \xa0\xa0\xa0",Object(d.jsx)(u.a,{onClick:function(e){I(!E)},children:"Add Review"})]})]})})}function g(e){var t=Object(n.useState)(""),c=Object(j.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(""),l=Object(j.a)(r,2),o=l[0],f=l[1],p=Object(n.useState)(""),g=Object(j.a)(p,2),y=g[0],S=g[1],w=Object(n.useState)(""),C=Object(j.a)(w,2),N=C[0],P=C[1],k=Object(n.useState)(""),A=Object(j.a)(k,2),E=A[0],I=A[1],R=Object(n.useState)(["Loading..."]),T=Object(j.a)(R,2),F=T[0],J=T[1];Object(n.useEffect)((function(){"Loading..."===F[0]&&m.getPlaces().then((function(e){return L(e)})).catch((function(e){return console.log(e)}))}));var L=function(e){var t=[];for(var c in e)t.push(Object(d.jsx)(v,{placeInfo:e[c].info,name:e[c].name,address:e[c].address,reviews:e[c].reviews}));J(t)};return Object(d.jsxs)(i.a,{children:[Object(d.jsx)(i.a,{className:"Place",children:Object(d.jsx)(h.a,{children:Object(d.jsx)(b.a,{children:Object(d.jsxs)(O.a,{className:"mb-3",hidden:e.hideSearchPlace,children:[Object(d.jsx)(x.a,{type:"text",placeholder:"Name",value:a,onChange:function(e){s(e.target.value)}}),Object(d.jsx)(x.a,{type:"text",placeholder:"Address",value:o,onChange:function(e){f(e.target.value)}}),Object(d.jsx)(O.a.Append,{children:Object(d.jsx)(u.a,{onClick:function(e){var t={name:a,address:o};m.searchPlaces(t).then((function(e){return L(e)})).catch((function(e){return console.log(e)})),s(""),f("")},variant:"primary",children:"Search"})})]})})})}),Object(d.jsx)(i.a,{className:"Place",children:Object(d.jsx)(h.a,{children:Object(d.jsx)(b.a,{children:Object(d.jsxs)(O.a,{className:"mb-3",hidden:e.hideAddPlace,children:[Object(d.jsx)(x.a,{type:"text",placeholder:"Enter Title",value:y,onChange:function(e){S(e.target.value)}}),Object(d.jsx)(x.a,{type:"text",placeholder:"Enter Address",value:N,onChange:function(e){P(e.target.value)}}),Object(d.jsx)(x.a,{type:"text",placeholder:"Enter Info",value:E,onChange:function(e){I(e.target.value)}}),Object(d.jsx)(O.a.Append,{children:Object(d.jsx)(u.a,{onClick:function(e){var t={name:y,address:N,info:E};m.addPlace(t).then((function(){console.log("The place ".concat(y," was added successfully."))})).catch((function(e){return console.log(e)})),F.push(Object(d.jsx)(v,{placeInfo:E,name:y,address:N})),S(""),P(""),I("")},variant:"primary",children:"Submit Place"})})]})})})}),Object(d.jsx)(h.a,{children:Object(d.jsx)(b.a,{children:F})})]})}var y=function(){return Object(d.jsxs)(i.a,{fluid:!0,className:"Site",children:[Object(d.jsx)(o,{}),Object(d.jsx)(g,{})]})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,35)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};c(32);r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),S()}},[[33,1,2]]]);
//# sourceMappingURL=main.d31aa85e.chunk.js.map